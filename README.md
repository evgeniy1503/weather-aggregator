<h2>Описание</h2>
<h3>Тестовое задание для комании GROOOZ</h3>

<p><u><b>Микросервис обрабатывающий данные о погоде</b></u>

### Технологии

1. Java 17
2. Spring Boot
3. Lombok
4. Gradle
5. PostgreSQL
6. Testcontainers
7. Flywaydb
8. Docker
9. Gradle

### Для запукска проекта локально:
1. Скачиваем проект себе проект через git clone
2. Для поднятия контейнера с PosgreSQL выполяем команду:
```bash
   docker-compose up
```
3. Для запуска проекта необходимо выполнить команду:
```bash
   ./gradlew bootRun
```
4. Для запуска тестов необходимо выполнить команду:
```bash
   ./gradlew test
```

## Как можно было бы улучшить проект в будущем:
1. Добавить Swagger
2. Покрыть тестами оставшиеся методы
3. Упаковать в image docker проект
4. Настроить RestTemplate для реального внешнего источника

## Описание задачи

### Создать микросервис, который:
•	запрашивает данные о погоде с 100 разных источников (разного формата),

•	адаптирует их к единому формату

•	агрегирует

•	сохраняет как сырые, так и обработанные данные в базу данных

•	возвращает агрегированные результаты по API


### Реализовать REST endpoint:
GET /weather/aggregate

### Он должен:
- Асинхронно запросить данные с 100 источников (/source/{id}). (источники замоканы)
Форматы данных: данные от разных источников могут приходить в таких вариантах:

Пример 1:
```json
{ "temp": 20.1, "hum": 55 }
```

Пример 2:
```json
{ "temperature": "21.7", "humidity": "58" }
```

Пример 3:
```json
{ "weather": { "t": 22.5, "h": 53.3 } }
```

- Каждый источник возвращает данные в разном формате (см. ниже).

- Адаптировать полученные данные к общему виду:

```java
class WeatherData {
  double temperature;
  double humidity;
}
```

- Сохранить в БД:

Сырые (оригинальные) данные от источника.

Обработанные данные после адаптации.

- Усреднить полученные данные.

Вернуть агрегированный ответ:
```java
{
  "averageTemperature": double,
  "averageHumidity": double
}
```


Таблицы в БД:
Можно использовать H2 или PostgreSQL (в зависимости от предпочтений):
raw_weather_data
| id | source_id | payload (TEXT) | timestamp |


normalized_weather_data
| id | source_id | temperature | humidity | timestamp |
